;(function($){$.fn.slider=function(options){var plugin=this,$plugin=$(this),defaults=$.extend({'cycleTime':6000,'fadeSpeed':1000,'buildControls':false},options);var init=function(){plugin.settings=$.extend({},defaults,options);var slides=$plugin.children(),bc=plugin.settings['buildControls'],fs=plugin.settings['fadeSpeed'],ct=plugin.settings['cycleTime'],cycleTimeout,i=0,p=0;if(slides.length>0){if(bc){var controls=(function(c,controlParent){for(var x=0,len=slides.length;x<len;x++)c+=(x!==0)?'<button class="control"></button>':'<button class="control active"></button>';controlParent.append(c);return controlParent.children();})('',$('#controls')),$controls=$('.control');$controls.on('click',function(){var z=$controls.index(this);clearTimeout(cycleTimeout);p=i;i=z;cycle();});}var cycle=function(){$(slides[p]).fadeOut(fs);$(slides[i]).fadeIn(fs);if(bc){$(controls[p]).removeClass('active');$(controls[i]).addClass('active');}cycleTimeout=setTimeout(function(){p=i;i=i===parseInt(slides.length-1)?0:i+1;cycle();},ct);};cycle();}};init();};})(jQuery);